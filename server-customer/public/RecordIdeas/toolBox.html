<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ‚¬æµ®å·¥å…·ç®±ç±»ç»ˆææ”¹è¿›ç‰ˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2980, #26d0ce);
            color: #333;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .container {
            max-width: 1200px;
            width: 100%;
            padding: 30px;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.2);
            margin: 40px 0;
        }
        
        header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            color: #2c3e50;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #34495e;
            max-width: 800px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .feature-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            border-left: 4px solid #4a6cf7;
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }
        
        .feature-card h3 {
            color: #4a6cf7;
            margin-bottom: 15px;
            font-size: 1.4rem;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .feature-card h3::before {
            content: "âœ“";
            background: #4a6cf7;
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        
        .feature-card p {
            color: #555;
            padding-left: 40px;
            line-height: 1.6;
        }
        
        .control-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 40px 0;
            padding: 25px;
            background: #f8f9ff;
            border-radius: 15px;
        }
        
        .control-group {
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        .control-group h3 {
            color: #4a6cf7;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-group h3::before {
            content: "âš™ï¸";
        }
        
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 15px;
        }
        
        .btn {
            background: linear-gradient(to right, #4a6cf7, #3a5ae0);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(74, 108, 247, 0.3);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(74, 108, 247, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn i {
            font-size: 18px;
        }
        
        .checkbox-group {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-top: 15px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .checkbox-item input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .instructions {
            margin-top: 40px;
            padding: 30px;
            background: linear-gradient(to right, #f0f5ff, #e6eeff);
            border-radius: 15px;
            border-left: 4px solid #4a6cf7;
        }
        
        .instructions h2 {
            color: #4a6cf7;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .instructions h2::before {
            content: "ğŸ“˜";
        }
        
        .instructions ol {
            padding-left: 30px;
        }
        
        .instructions li {
            margin-bottom: 15px;
            font-size: 1.1rem;
            padding-left: 10px;
            line-height: 1.6;
            position: relative;
        }
        
        .instructions li::before {
            content: "â†’";
            position: absolute;
            left: -25px;
            color: #4a6cf7;
            font-weight: bold;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            border-radius: 10px;
            padding: 25px;
            margin: 25px 0;
            font-family: 'Fira Code', monospace;
            overflow-x: auto;
            box-shadow: inset 0 0 15px rgba(0,0,0,0.5);
            border: 1px solid #444;
        }
        
        .toolbox-preview {
            position: fixed;
            right: 30px;
            bottom: 30px;
            z-index: 1000;
        }
        
        footer {
            text-align: center;
            margin-top: 50px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            padding: 20px;
            width: 100%;
        }
        
        /* å·¥å…·ç®±æ»šåŠ¨æ¡æ ·å¼ */
        .toolbox-scrollbar::-webkit-scrollbar {
            height: 8px;
            width: 8px;
        }
        
        .toolbox-scrollbar::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }
        
        .toolbox-scrollbar::-webkit-scrollbar-thumb {
            background: #4a6cf7;
            border-radius: 4px;
        }
        
        .toolbox-scrollbar::-webkit-scrollbar-thumb:hover {
            background: #3a5ae0;
        }
        
        @media (max-width: 768px) {
            .features {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>æ‚¬æµ®å·¥å…·ç®±ç±»ç»ˆææ”¹è¿›ç‰ˆ</h1>
            <p class="subtitle">ä¼˜åŒ–æ»šåŠ¨æ¡ã€è§£å†³æœ€å°åŒ–æ ·å¼é—®é¢˜ã€æ¶ˆé™¤æ‹–æ‹½å»¶è¿Ÿæ„Ÿ</p>
        </header>
        
        <div class="features">
            <div class="feature-card">
                <h3>æ»šåŠ¨æ¡ä¼˜åŒ–</h3>
                <p>æ¯ä¸ªæ ‡ç­¾é¡µå†…å®¹åŒºåŸŸç‹¬ç«‹æ»šåŠ¨æ¡ï¼Œç¡®ä¿æ»šåŠ¨åªåœ¨å½“å‰æ ‡ç­¾å†…ç”Ÿæ•ˆ</p>
            </div>
            <div class="feature-card">
                <h3>æœ€å°åŒ–æ ·å¼æ”¹è¿›</h3>
                <p>å®Œå…¨è§£å†³æ··è‰²é—®é¢˜ï¼Œæœ€å°åŒ–æ—¶æ˜¾ç¤ºçº¯è‰²æ–¹å—ï¼Œè§†è§‰æ›´ç»Ÿä¸€</p>
            </div>
            <div class="feature-card">
                <h3>æ‹–æ‹½æ€§èƒ½ä¼˜åŒ–</h3>
                <p>ä½¿ç”¨transformå®ç°å¹³æ»‘æ‹–æ‹½ï¼Œæ¶ˆé™¤å»¶è¿Ÿæ„Ÿï¼Œæ“ä½œæ›´æµç•…</p>
            </div>
        </div>
        
        <div class="control-panel">
            <div class="control-group">
                <h3>å·¥å…·ç®±æ§åˆ¶</h3>
                <div class="btn-group">
                    <button class="btn" id="createBtn">
                        <i>â•</i> åˆ›å»ºå·¥å…·ç®±
                    </button>
                    <button class="btn" id="addTabBtn">
                        <i>ğŸ“‘</i> æ·»åŠ æ ‡ç­¾é¡µ
                    </button>
                    <button class="btn" id="addBtn">
                        <i>ğŸ”§</i> æ·»åŠ å·¥å…·
                    </button>
                    <button class="btn" id="removeBtn">
                        <i>ğŸ—‘ï¸</i> ç§»é™¤å·¥å…·ç®±
                    </button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>å°ºå¯¸æ§åˆ¶</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="widthFixed" checked>
                        <label for="widthFixed">å›ºå®šå®½åº¦ (300px)</label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="heightFixed">
                        <label for="heightFixed">å›ºå®šé«˜åº¦ (300px)</label>
                    </div>
                </div>
            </div>
            
            <div class="control-group">
                <h3>æ”¶èµ·æ ·å¼</h3>
                <div class="checkbox-group">
                    <div class="checkbox-item">
                        <input type="checkbox" id="hideTitle" checked>
                        <label for="hideTitle">æ–¹å—å¼æ”¶èµ·æ¨¡å¼</label>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h2>æ”¹è¿›åŠŸèƒ½è¯´æ˜</h2>
            <ol>
                <li><strong>æ»šåŠ¨æ¡ä¼˜åŒ–</strong>ï¼š
                    æ¯ä¸ªæ ‡ç­¾é¡µçš„å†…å®¹å®¹å™¨éƒ½æœ‰ç‹¬ç«‹çš„æ»šåŠ¨æ¡ï¼Œç¡®ä¿æ»šåŠ¨æ“ä½œåªå½±å“å½“å‰æ ‡ç­¾é¡µå†…å®¹</li>
                    
                <li><strong>æœ€å°åŒ–æ ·å¼æ”¹è¿›</strong>ï¼š
                    å®Œå…¨è§£å†³æœ€å°åŒ–æ—¶çš„æ··è‰²é—®é¢˜ï¼Œç°åœ¨æœ€å°åŒ–æ—¶æ˜¾ç¤ºçº¯è“è‰²æ–¹å—ï¼Œè§†è§‰ç»Ÿä¸€ç¾è§‚</li>
                    
                <li><strong>æ‹–æ‹½æ€§èƒ½ä¼˜åŒ–</strong>ï¼š
                    ä½¿ç”¨transformè¿›è¡Œä½ç§»æ“ä½œï¼Œåˆ©ç”¨GPUåŠ é€Ÿæ¶ˆé™¤æ‹–æ‹½å»¶è¿Ÿæ„Ÿï¼Œæ“ä½œæ›´åŠ æµç•…è‡ªç„¶</li>
                    
                <li><strong>åŠ¨ç”»æ•ˆæœå¢å¼º</strong>ï¼š
                    æ·»åŠ äº†å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»ï¼Œæå‡ç”¨æˆ·ä½“éªŒï¼Œæ‰€æœ‰æ“ä½œæ›´åŠ è‡ªç„¶æµç•…</li>
            </ol>
            
            <div class="code-block">
                <pre><code>class Toolbox {
    // é™æ€é…ç½®å˜é‡
    static fixedWidth = { enabled: true, value: 300 };
    static fixedHeight = { enabled: false, value: 300 };
    static hideTitleWhenCollapsed = true;
    
    constructor(id = 'floatingToolBox', title = 'æ‚¬æµ®å·¥å…·ç®±') {
        this.id = id;
        this.tabs = {};
        this.currentTab = null;
        this.isMinimized = false;
        this.originalDimensions = {};
        this.dragPosition = { x: 0, y: 0 };
        
        // åˆ›å»ºå®¹å™¨
        this.container = document.createElement('div');
        this.container.id = this.id;
        
        // åˆå§‹åŒ–æ ·å¼
        this.initStyles(title);
        
        // æ·»åŠ åˆ°æŒ‡å®šå®¹å™¨
        const container = document.getElementById('toolboxContainer');
        if (container) {
            container.appendChild(this.container);
        } else {
            document.body.appendChild(this.container);
        }
        
        // åˆå§‹åŒ–äº‹ä»¶
        this.initEvents();
    }
    
    initStyles(title) {
        // åº”ç”¨åŸºæœ¬æ ·å¼
        this.applyStyle(this.container, {
            position: 'fixed',
            background: 'white',
            borderRadius: '10px',
            boxShadow: '0 10px 30px rgba(0,0,0,0.2)',
            overflow: 'hidden',
            zIndex: '10000',
            right: '30px',
            top: '30px',
            fontFamily: '-apple-system, BlinkMacSystemFont, sans-serif',
            transition: 'all 0.3s ease'
        });
        
        // åº”ç”¨å°ºå¯¸è®¾ç½®
        this.updateDimensions();
        
        // åˆ›å»ºå¤´éƒ¨
        this.header = document.createElement('div');
        this.applyStyle(this.header, {
            background: 'linear-gradient(135deg, #4a6cf7, #3a5ae0)',
            color: 'white',
            padding: '12px 15px',
            cursor: 'move',
            userSelect: 'none',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center'
        });
        
        this.title = document.createElement('div');
        this.title.textContent = title;
        this.applyStyle(this.title, {
            fontWeight: '600',
            fontSize: '16px',
            display: 'flex',
            alignItems: 'center',
            gap: '10px'
        });
        
        this.toggleBtn = document.createElement('button');
        this.toggleBtn.textContent = 'â–¼';
        this.applyStyle(this.toggleBtn, {
            background: 'rgba(255,255,255,0.2)',
            border: 'none',
            color: 'white',
            cursor: 'pointer',
            fontSize: '16px',
            width: '30px',
            height: '30px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            borderRadius: '6px',
            transition: 'all 0.2s ease',
            zIndex: '10'
        });
        
        this.toggleBtn.addEventListener('mouseenter', () => {
            this.toggleBtn.style.background = 'rgba(255,255,255,0.3)';
        });
        
        this.toggleBtn.addEventListener('mouseleave', () => {
            this.toggleBtn.style.background = 'rgba(255,255,255,0.2)';
        });
        
        this.header.appendChild(this.title);
        this.header.appendChild(this.toggleBtn);
        
        // åˆ›å»ºå†…å®¹åŒºåŸŸ
        this.content = document.createElement('div');
        this.applyStyle(this.content, {
            display: 'block',
            overflow: 'hidden'
        });
        
        // æ ‡ç­¾æ å®¹å™¨ - æ·»åŠ æ¨ªå‘æ»šåŠ¨æ”¯æŒ
        this.tabsContainer = document.createElement('div');
        this.applyStyle(this.tabsContainer, {
            display: 'flex',
            background: '#f5f7ff',
            borderBottom: '1px solid #e6e9ff',
            overflowX: 'auto',
            whiteSpace: 'nowrap',
            scrollbarWidth: 'thin',
            scrollbarColor: '#4a6cf7 #f5f7ff'
        });
        this.tabsContainer.classList.add('toolbox-scrollbar');
        
        // æ ‡ç­¾å†…å®¹å®¹å™¨
        this.tabContentContainer = document.createElement('div');
        this.applyStyle(this.tabContentContainer, {
            overflow: 'hidden'
        });
        
        // ç»„è£…
        this.content.appendChild(this.tabsContainer);
        this.content.appendChild(this.tabContentContainer);
        this.container.appendChild(this.header);
        this.container.appendChild(this.content);
    }
    
    // æ›´æ–°å°ºå¯¸è®¾ç½®
    updateDimensions() {
        // å®½åº¦è®¾ç½®
        if (Toolbox.fixedWidth.enabled) {
            this.container.style.width = `${Toolbox.fixedWidth.value}px`;
            this.container.style.minWidth = 'unset';
            this.container.style.maxWidth = 'unset';
        } else {
            this.container.style.width = 'auto';
            this.container.style.minWidth = '250px';
            this.container.style.maxWidth = '90vw';
        }
        
        // é«˜åº¦è®¾ç½®
        if (Toolbox.fixedHeight.enabled) {
            this.container.style.height = `${Toolbox.fixedHeight.value}px`;
        } else {
            this.container.style.height = 'auto';
        }
    }
    
    applyStyle(element, styles) {
        for (const [prop, value] of Object.entries(styles)) {
            element.style[prop] = value;
        }
    }
    
    initEvents() {
        let isDragging = false;
        let offsetX, offsetY;
        
        // ä½¿ç”¨transformå®ç°å¹³æ»‘æ‹–æ‹½
        this.header.addEventListener('mousedown', (e) => {
            // å¦‚æœå¤„äºæœ€å°æ–¹å—çŠ¶æ€ï¼Œåˆ™ä¸å…è®¸æ‹–åŠ¨
            if (this.isMinimized) return;
            
            isDragging = true;
            
            const rect = this.container.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            
            // è®°å½•åˆå§‹ä½ç½®
            this.dragPosition = {
                x: parseFloat(this.container.style.left || this.container.offsetLeft) || 0,
                y: parseFloat(this.container.style.top || this.container.offsetTop) || 0
            };
            
            // æ¸…é™¤å¯èƒ½å½±å“transformçš„æ ·å¼
            this.container.style.left = '';
            this.container.style.top = '';
            this.container.style.right = '';
            this.container.style.bottom = '';
            
            // æ·»åŠ è¿‡æ¸¡æ•ˆæœ
            this.container.style.transition = 'none';
            
            e.preventDefault();
        });
        
        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            
            const x = e.clientX - offsetX;
            const y = e.clientY - offsetY;
            
            // ä½¿ç”¨transformå®ç°å¹³æ»‘ç§»åŠ¨
            this.container.style.transform = `translate(${x}px, ${y}px)`;
        });
        
        document.addEventListener('mouseup', () => {
            if (!isDragging) return;
            
            isDragging = false;
            
            // ä¿å­˜æœ€ç»ˆä½ç½®
            const rect = this.container.getBoundingClientRect();
            this.dragPosition = {
                x: rect.left,
                y: rect.top
            };
            
            // ç§»é™¤transformï¼Œæ”¹ç”¨top/leftå®šä½
            this.container.style.transform = 'none';
            this.container.style.left = `${this.dragPosition.x}px`;
            this.container.style.top = `${this.dragPosition.y}px`;
            this.container.style.right = 'auto';
            this.container.style.bottom = 'auto';
            
            // æ¢å¤è¿‡æ¸¡æ•ˆæœ
            this.container.style.transition = 'all 0.3s ease';
        });
        
        // å±•å¼€/æ”¶èµ·åŠŸèƒ½
        this.toggleBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            this.toggleCollapse();
        });
        
        // åœ¨æœ€å°æ–¹å—çŠ¶æ€ä¸‹ï¼Œç‚¹å‡»æ•´ä¸ªæ–¹å—ä¹Ÿå¯ä»¥å±•å¼€
        this.container.addEventListener('click', () => {
            if (this.isMinimized) {
                this.toggleCollapse();
            }
        });
    }
    
    // æŠ˜å /å±•å¼€åŠŸèƒ½
    toggleCollapse() {
        if (this.isMinimized) {
            this.expandFromMinimized();
            return;
        }
        
        if (Toolbox.hideTitleWhenCollapsed) {
            this.minimizeToSquare();
        } else {
            this.standardToggle();
        }
    }
    
    // æ ‡å‡†æŠ˜å /å±•å¼€
    standardToggle() {
        const isCollapsed = this.container.classList.toggle('collapsed');
        this.toggleBtn.textContent = isCollapsed ? 'â–²' : 'â–¼';
        
        if (isCollapsed) {
            this.container.style.height = `${this.header.offsetHeight}px`;
        } else {
            this.updateDimensions();
        }
    }
    
    // æœ€å°åŒ–ä¸ºæ–¹å— - è§£å†³æ··è‰²é—®é¢˜
    minimizeToSquare() {
        // ä¿å­˜åŸå§‹å°ºå¯¸
        this.originalDimensions = {
            width: this.container.style.width,
            height: this.container.style.height,
            top: this.container.style.top,
            left: this.container.style.left,
            right: this.container.style.right,
            borderRadius: this.container.style.borderRadius,
            background: this.container.style.background
        };
        
        // è®¾ç½®æ–¹å—æ ·å¼ - çº¯è“è‰²èƒŒæ™¯
        this.applyStyle(this.container, {
            width: '36px',
            height: '36px',
            borderRadius: '8px',
            overflow: 'hidden',
            background: '#4a6cf7',
            boxShadow: '0 4px 12px rgba(74, 108, 247, 0.5)'
        });
        
        // éšè—å†…å®¹
        this.content.style.display = 'none';
        this.title.style.display = 'none';
        this.header.style.background = 'transparent';
        
        // è°ƒæ•´æŒ‰é’®ä½ç½®å’Œæ ·å¼
        this.applyStyle(this.toggleBtn, {
            position: 'absolute',
            top: '50%',
            left: '50%',
            transform: 'translate(-50%, -50%)',
            width: '32px',
            height: '32px',
            background: 'rgba(255,255,255,0.3)',
            fontSize: '20px'
        });
        
        this.toggleBtn.textContent = 'â–²';
        this.isMinimized = true;
    }
    
    // ä»æ–¹å—çŠ¶æ€å±•å¼€
    expandFromMinimized() {
        // æ¢å¤åŸå§‹æ ·å¼
        this.applyStyle(this.container, {
            width: this.originalDimensions.width,
            height: this.originalDimensions.height,
            borderRadius: this.originalDimensions.borderRadius || '10px',
            overflow: 'hidden',
            background: this.originalDimensions.background || 'white',
            boxShadow: '0 10px 30px rgba(0,0,0,0.2)'
        });
        
        // æ˜¾ç¤ºå†…å®¹
        this.content.style.display = 'block';
        this.title.style.display = 'flex';
        this.header.style.background = 'linear-gradient(135deg, #4a6cf7, #3a5ae0)';
        
        // æ¢å¤æŒ‰é’®æ ·å¼
        this.applyStyle(this.toggleBtn, {
            position: 'static',
            top: 'auto',
            left: 'auto',
            transform: 'none',
            width: '30px',
            height: '30px',
            background: 'rgba(255,255,255,0.2)',
            fontSize: '16px'
        });
        
        this.toggleBtn.textContent = 'â–¼';
        this.isMinimized = false;
    }
    
    addTab(tabId, tabName) {
        if (this.tabs[tabId]) return;
        
        // åˆ›å»ºæ ‡ç­¾
        const tab = document.createElement('div');
        tab.textContent = tabName;
        tab.dataset.tab = tabId;
        this.applyStyle(tab, {
            padding: '12px 15px',
            cursor: 'pointer',
            fontSize: '14px',
            color: '#555',
            flexShrink: '0',
            textAlign: 'center',
            transition: 'all 0.2s'
        });
        
        // åˆ›å»ºæ ‡ç­¾å†…å®¹
        const tabContent = document.createElement('div');
        tabContent.id = `content-${tabId}`;
        this.applyStyle(tabContent, {
            padding: '15px',
            display: 'none',
            height: '100%',
            overflowY: 'auto',
            maxHeight: '400px'
        });
        tabContent.classList.add('toolbox-scrollbar');
        
        // ç½‘æ ¼å®¹å™¨
        const grid = document.createElement('div');
        this.applyStyle(grid, {
            display: 'grid',
            gridTemplateColumns: 'repeat(3, 1fr)',
            gap: '15px'
        });
        tabContent.appendChild(grid);
        
        // æ·»åŠ åˆ°DOM
        this.tabsContainer.appendChild(tab);
        this.tabContentContainer.appendChild(tabContent);
        
        // å­˜å‚¨å¼•ç”¨
        this.tabs[tabId] = {
            element: tab,
            content: tabContent,
            grid: grid
        };
        
        // å¦‚æœæ˜¯ç¬¬ä¸€ä¸ªæ ‡ç­¾ï¼Œè®¾ä¸ºæ¿€æ´»çŠ¶æ€
        if (!this.currentTab) {
            this.setActiveTab(tabId);
        }
        
        // æ ‡ç­¾ç‚¹å‡»äº‹ä»¶
        tab.addEventListener('click', () => {
            this.setActiveTab(tabId);
        });
        
        return tabId;
    }
    
    setActiveTab(tabId) {
        if (!this.tabs[tabId]) return;
        
        // ç§»é™¤æ‰€æœ‰æ ‡ç­¾çš„æ¿€æ´»çŠ¶æ€
        Object.values(this.tabs).forEach(tab => {
            tab.element.style.color = '#555';
            tab.element.style.background = '#f5f7ff';
            tab.element.style.borderBottom = 'none';
            tab.content.style.display = 'none';
        });
        
        // è®¾ç½®å½“å‰æ ‡ç­¾ä¸ºæ¿€æ´»çŠ¶æ€
        const tab = this.tabs[tabId];
        tab.element.style.color = '#4a6cf7';
        tab.element.style.background = 'white';
        tab.element.style.borderBottom = '2px solid #4a6cf7';
        tab.content.style.display = 'block';
        
        this.currentTab = tabId;
    }
    
    addButton(tabId, config, handler) {
        if (!this.tabs[tabId]) return;
        
        const tab = this.tabs[tabId];
        const btn = document.createElement('div');
        
        // åº”ç”¨æŒ‰é’®æ ·å¼
        this.applyStyle(btn, {
            padding: '15px 10px',
            textAlign: 'center',
            cursor: 'pointer',
            borderRadius: '8px',
            background: 'linear-gradient(145deg, #ffffff, #f9faff)',
            transition: 'all 0.3s',
            boxShadow: '0 3px 8px rgba(0,0,0,0.05)'
        });
        
        // åˆ›å»ºå›¾æ ‡
        if (config.icon) {
            const icon = document.createElement('div');
            icon.textContent = config.icon;
            this.applyStyle(icon, {
                fontSize: '28px',
                marginBottom: '10px',
                transition: 'transform 0.3s'
            });
            btn.appendChild(icon);
        }
        
        // åˆ›å»ºæ–‡æœ¬
        if (config.text) {
            const text = document.createElement('div');
            text.textContent = config.text;
            this.applyStyle(text, {
                fontSize: '13px',
                color: '#444',
                fontWeight: '500'
            });
            btn.appendChild(text);
        }
        
        // æ·»åŠ æ‚¬åœæ•ˆæœ
        btn.addEventListener('mouseenter', () => {
            btn.style.background = 'linear-gradient(145deg, #eef2ff, #e6eeff)';
            btn.style.transform = 'translateY(-3px)';
            btn.style.boxShadow = '0 5px 15px rgba(74, 108, 247, 0.2)';
            if (config.icon) {
                btn.querySelector('div').style.transform = 'scale(1.1)';
            }
        });
        
        btn.addEventListener('mouseleave', () => {
            btn.style.background = 'linear-gradient(145deg, #ffffff, #f9faff)';
            btn.style.transform = 'none';
            btn.style.boxShadow = '0 3px 8px rgba(0,0,0,0.05)';
            if (config.icon) {
                btn.querySelector('div').style.transform = 'scale(1)';
            }
        });
        
        // æ·»åŠ ç‚¹å‡»äº‹ä»¶
        btn.addEventListener('click', handler);
        
        // æ·»åŠ åˆ°ç½‘æ ¼
        tab.grid.appendChild(btn);
        
        return btn;
    }
    
    remove() {
        if (this.container && this.container.parentNode) {
            this.container.parentNode.removeChild(this.container);
        }
    }
    
    static createDefaultToolbox() {
        const toolbox = new Toolbox();
        
        // æ·»åŠ é»˜è®¤æ ‡ç­¾é¡µ
        toolbox.addTab('tools', 'å·¥å…·');
        toolbox.addTab('settings', 'è®¾ç½®');
        toolbox.addTab('help', 'å¸®åŠ©');
        
        // æ·»åŠ å·¥å…·
        toolbox.addButton('tools', {icon: 'ğŸ“‹', text: 'å‰ªè´´æ¿'}, () => alert('å‰ªè´´æ¿å·¥å…·'));
        toolbox.addButton('tools', {icon: 'ğŸ–¼ï¸', text: 'å›¾ç‰‡'}, () => alert('å›¾ç‰‡å·¥å…·'));
        toolbox.addButton('tools', {icon: 'ğŸ“Š', text: 'æ•°æ®'}, () => alert('æ•°æ®åˆ†æ'));
        toolbox.addButton('tools', {icon: 'ğŸ“', text: 'ç¬”è®°'}, () => alert('ç¬”è®°åŠŸèƒ½'));
        toolbox.addButton('tools', {icon: 'â±ï¸', text: 'è®¡æ—¶'}, () => alert('è®¡æ—¶å™¨'));
        toolbox.addButton('tools', {icon: 'ğŸŒ', text: 'ç½‘ç»œ'}, () => alert('ç½‘ç»œå·¥å…·'));
        
        // æ·»åŠ è®¾ç½®
        toolbox.addButton('settings', {icon: 'ğŸ¨', text: 'ä¸»é¢˜'}, () => alert('ä¸»é¢˜è®¾ç½®'));
        toolbox.addButton('settings', {icon: 'ğŸ””', text: 'é€šçŸ¥'}, () => alert('é€šçŸ¥è®¾ç½®'));
        toolbox.addButton('settings', {icon: 'ğŸ”’', text: 'éšç§'}, () => alert('éšç§è®¾ç½®'));
        
        // æ·»åŠ å¸®åŠ©
        toolbox.addButton('help', {icon: 'â“', text: 'å¸®åŠ©'}, () => alert('å¸®åŠ©ä¸­å¿ƒ'));
        toolbox.addButton('help', {icon: 'ğŸ“š', text: 'æ–‡æ¡£'}, () => alert('æŸ¥çœ‹æ–‡æ¡£'));
        toolbox.addButton('help', {icon: 'ğŸ’¬', text: 'æ”¯æŒ'}, () => alert('è”ç³»æ”¯æŒ'));
        
        return toolbox;
    }
}

// å½“å‰å·¥å…·ç®±å®ä¾‹
let currentToolbox = null;

// åˆå§‹åŒ–UIäº‹ä»¶
document.getElementById('createBtn').addEventListener('click', function() {
    if (currentToolbox) currentToolbox.remove();
    
    // æ›´æ–°é™æ€é…ç½®
    Toolbox.fixedWidth.enabled = document.getElementById('widthFixed').checked;
    Toolbox.fixedHeight.enabled = document.getElementById('heightFixed').checked;
    Toolbox.hideTitleWhenCollapsed = document.getElementById('hideTitle').checked;
    
    currentToolbox = Toolbox.createDefaultToolbox();
    this.innerHTML = '<i>âœ…</i> å·²åˆ›å»º';
    setTimeout(() => this.innerHTML = '<i>â•</i> åˆ›å»ºå·¥å…·ç®±', 2000);
});</code></pre>
            </div>
        </div>
    </div>
    
    <div class="toolbox-preview" id="toolboxContainer"></div>
    
    <footer>
        <p>æ‚¬æµ®å·¥å…·ç®±ç±»ç»ˆææ”¹è¿›ç‰ˆ &copy; 2023 | ä¼˜åŒ–æ»šåŠ¨æ¡ã€è§£å†³æœ€å°åŒ–æ ·å¼é—®é¢˜ã€æ¶ˆé™¤æ‹–æ‹½å»¶è¿Ÿæ„Ÿ</p>
    </footer>
<script src="toobox.js"></script>
    <script>

        // å½“å‰å·¥å…·ç®±å®ä¾‹
        let currentToolbox = null;
        
        // åˆå§‹åŒ–UIäº‹ä»¶
        document.getElementById('createBtn').addEventListener('click', function() {
            if (currentToolbox) currentToolbox.remove();
            
            // æ›´æ–°é™æ€é…ç½®
            ToolboxDemo.fixedWidth.enabled = document.getElementById('widthFixed').checked;
            ToolboxDemo.fixedHeight.enabled = document.getElementById('heightFixed').checked;
            ToolboxDemo.hideTitleWhenCollapsed = document.getElementById('hideTitle').checked;
            
            currentToolbox = ToolboxDemo.createDefaultToolbox();
            this.innerHTML = '<i>âœ…</i> å·²åˆ›å»º';
            setTimeout(() => this.innerHTML = '<i>â•</i> åˆ›å»ºå·¥å…·ç®±', 2000);
        });
        
        document.getElementById('addTabBtn').addEventListener('click', function() {
            if (!currentToolbox) {
                alert('è¯·å…ˆåˆ›å»ºå·¥å…·ç®±');
                return;
            }
            
            const tabNames = ['é«˜çº§å·¥å…·', 'æ”¶è—å¤¹', 'è‡ªå®šä¹‰åŠŸèƒ½', 'æ‰©å±•æ¨¡å—', 'å®ç”¨ç¨‹åº', 'ç³»ç»Ÿè®¾ç½®', 'ç”¨æˆ·ç®¡ç†'];
            const randomName = tabNames[Math.floor(Math.random() * tabNames.length)];
            const tabId = 'tab' + (Object.keys(currentToolbox.tabs).length + 1);
            
            currentToolbox.addTab(tabId, randomName);
            this.innerHTML = '<i>âœ…</i> å·²æ·»åŠ ';
            setTimeout(() => this.innerHTML = '<i>ğŸ“‘</i> æ·»åŠ æ ‡ç­¾é¡µ', 2000);
        });
        
        document.getElementById('addBtn').addEventListener('click', function() {
            if (!currentToolbox) {
                alert('è¯·å…ˆåˆ›å»ºå·¥å…·ç®±');
                return;
            }
            
            if (!currentToolbox.currentTab) {
                alert('è¯·å…ˆæ·»åŠ æ ‡ç­¾é¡µ');
                return;
            }
            
            const icons = ['ğŸš€', 'âœ¨', 'ğŸ”®', 'ğŸ¯', 'ğŸ”', 'ğŸ’¡', 'â­', 'ğŸ”§', 'âš¡', 'ğŸ”‘', 'ğŸ“', 'ğŸ””'];
            const texts = ['æ–°åŠŸèƒ½', 'é«˜çº§å·¥å…·', 'è‡ªå®šä¹‰', 'æ‰©å±•', 'å®ç”¨ç¨‹åº', 'æ•ˆç‡å·¥å…·', 'æ”¶è—å¤¹', 'ç³»ç»Ÿè®¾ç½®', 'ç”¨æˆ·ç®¡ç†'];
            
            const randomIcon = icons[Math.floor(Math.random() * icons.length)];
            const randomText = texts[Math.floor(Math.random() * texts.length)];
            
            currentToolbox.addButton(
                currentToolbox.currentTab, 
                {icon: randomIcon, text: randomText}, 
                () => alert(`å·²ä½¿ç”¨ ${randomText} åŠŸèƒ½`)
            );
            
            this.innerHTML = '<i>âœ…</i> å·²æ·»åŠ ';
            setTimeout(() => this.innerHTML = '<i>ğŸ”§</i> æ·»åŠ å·¥å…·', 2000);
        });
        
        document.getElementById('removeBtn').addEventListener('click', function() {
            if (currentToolbox) {
                currentToolbox.remove();
                currentToolbox = null;
                this.innerHTML = '<i>âœ…</i> å·²ç§»é™¤';
                setTimeout(() => this.innerHTML = '<i>ğŸ—‘ï¸</i> ç§»é™¤å·¥å…·ç®±', 2000);
            } else {
                alert('å·¥å…·ç®±æœªåˆ›å»º');
            }
        });
        
        // åˆå§‹åŒ–å¤é€‰æ¡†çŠ¶æ€
        document.getElementById('widthFixed').checked = ToolboxDemo.fixedWidth.enabled;
        document.getElementById('heightFixed').checked = ToolboxDemo.fixedHeight.enabled;
        document.getElementById('hideTitle').checked = ToolboxDemo.hideTitleWhenCollapsed;
    </script>
</body>
</html>